## BranchPro

BranchPro is an open source software package for the simulation of infectious disease case numbers and inference of the effective reproduction number from case data. This web application demonstrates some of its capabilities. All of the code can be found on [our GitHub page](https://github.com/SABS-R3-Epidemiology/branchpro).

BranchPro can simulate daily incidence numbers (new cases) by using a branching process model. The only inputs required from the user are the initial number of cases $I\_0$ and the value of the disease's reproduction number $R\_t$. The app also allows the user to change the reproduction number at a user-specified time (to model a public health intervention, for example) and to visualise the resulting change in incidence predictions. The static red bar chart shows real daily case numbers for a French outbreak of the flu in 2020 -- try to adjust our model parameters so that the model prediction (blue line) fits this real data.

*Disclaimer: The modelling framework adopted by this software tool involves a number of simplifying assumptions. Furthermore, the validity of any outputs is contingent on appropriate choices for the parameter values and the accuracy of user-uploaded data. The developers urge cautious interpretation of all results and renounce any responsibility for decisions made on the basis of this software. Please refer to the paper above for full details.*

### Overview
In a closed population (i.e. no travel into or out of the population), the number of new cases of an infectious disease on any given day depends on a number of things. First, it depends on the past case numbers over recent days or weeks. Second, it depends on the lifetime of the disease and when it is most infectious (e.g. days 3 to 6 after contraction). Third, it depends on the infectiousness of the disease, i.e. a combination of a) the probability of an infection occurring given that an infective individual comes into contact with a susceptible individual and b) the average rate of contact between infective and susceptible individuals. By designing a mathematical model that uses this information, we can attempt to predict future case numbers, allowing us to understand the disease's epidemiology and to inform policy decisions for its management by the authorities.

Our model is a branching process model. It uses case numbers from the immediate past (about 10 days worth) to simulate what the case number will be today. Once we have a prediction for today, we can predict how many cases there will be tomorrow, and then the day after tomorrow, and then the day after that, etc., each day's prediction depending on the predictions for the days immediately before. It is a stochastic model: it predicts an expected value for the case number on a given future day but also includes random effects (a.k.a. noise or stochasticity) to reflect the fact that the world is random and our predictions can never be perfect.

The infectivity of the disease over the duration of a host's infection is modelled with a *serial interval*. This is a function that assigns a measure of the host's infectivity to each day after she contracts the disease. We assume that infectivity is maximal after about 2 days and then decreases thereafter until it is negligible after about 8 days.

Another very important model parameter is the reproduction number of the disease, i.e. the expected number of secondary infections caused by one infective host over the duration of the latter's infection. This number, denoted $R$, depends both on the transmissibility of the disease (a biological property) and the structure and behaviour of the population (a product of geographical, sociological and other properties not directly related to the disease itself). In general, if $R>1$, the disease's case numbers grow exponentially over time; if $R<1$, then the case numbers decrease exponentially over time. Hence the focus given to the reproduction number by epidemiologists, governments and news media around the world during the current COVID-19 pandemic.

Below, you can simulate future case numbers based on the assumption that on day 1, a certain number $I\_0$ of infective cases were introduced to the population. You can choose the initial reproduction number and vary it to see its effect on the case number predictions.

You can also choose to change the reproduction number after a number of days to see the effect. For example, you might assume that at the beginning of the outbreak, each infective individual is expected to infect 4 new susceptible individuals ($R = 4$) but that once the population is aware of the outbreak, say after 14 days, you might test what happens if the reproduction number changes to $R = 0.8$ (as a result of strict social distancing measures, for example). What is the effect of this change on case numbers? What would be the effect of waiting until day 20 to change the reproduction number?
